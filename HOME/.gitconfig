# ============================================================
# Git Configuration
# ============================================================
[include]
    path = ~/.gitconfig.user
# [user]
# 	name = Shota Iuchi
# 	email = shotaiuchi.develop@gmail.com

# ============================================================
# Init
# ============================================================
[init]
    defaultBranch = main

# ============================================================
# Core Settings
# ============================================================
[core]
    pager = delta
    quotepath = false       ; 日本語ファイル名の文字化け防止
    filemode = false        ; パーミッション変更を無視
    autocrlf = false        ; 改行コード自動変換しない
    symlinks = true         ; シンボリックリンク対応
    commentChar = ";"       ; コメント文字を # から ; に変更

[color]
    ui = auto

# ============================================================
# Aliases
# ============================================================
[alias]
    ; ----------------------------------------------------------
    ; Information
    ; ----------------------------------------------------------
    aliass = config --get-regexp alias      ; エイリアス一覧
    me     = config --get-regexp user       ; ユーザー情報表示

    ; ----------------------------------------------------------
    ; Utility
    ; ----------------------------------------------------------
    cofirst = commit --allow-empty -m 'Initial commit'

    ; ----------------------------------------------------------
    ; Add
    ; ----------------------------------------------------------
    a  = add
    aa = add --all
    ap = add --patch        ; 対話的に部分追加
    au = add --update       ; 変更・削除のみ追加

    ; ----------------------------------------------------------
    ; Branch
    ; ----------------------------------------------------------
    b  = branch
    ba = branch --all

    ; ----------------------------------------------------------
    ; Log
    ; ----------------------------------------------------------
    l  = log --oneline
    ll = log --oneline --topo-order

    ; ----------------------------------------------------------
    ; Status
    ; ----------------------------------------------------------
    s = status

    ; ----------------------------------------------------------
    ; Checkout
    ; ----------------------------------------------------------
    c      = checkout
    cm     = checkout main
    cempty = checkout --orphan  ; 履歴なしブランチ作成

    ; ----------------------------------------------------------
    ; Commit
    ; ----------------------------------------------------------
    co   = commit
    com  = commit --message
    coa  = commit --amend
    coan = commit --amend --no-edit

    ; ----------------------------------------------------------
    ; Diff
    ; ----------------------------------------------------------
    d  = diff
    ds = diff --cached      ; ステージ済みの差分
    db = diff --stat        ; 統計情報のみ
    dd = !sh -c 'git diff ${1:-HEAD}~ ${1:-HEAD} $2 $3 $4 $5 $6 $7 $8 $9' -
    dn = !sh -c 'git diff --name-only ${1:-HEAD}~ ${1:-HEAD} $2 $3 $4 $5 $6 $7 $8 $9' -

    ; ----------------------------------------------------------
    ; State Change (ローカル状態変更)
    ; ----------------------------------------------------------
    unstage = reset HEAD --     ; ステージ取り消し
    pick    = cherry-pick

    ; ----------------------------------------------------------
    ; Server Change (リモート操作)
    ; ----------------------------------------------------------
    pushme  = !sh -c 'git push ${1:-origin} $2 $3 $4 $5 $6 $7 $8 $9 `git rev-parse --abbrev-ref HEAD`' -
    pushmef = !sh -c 'git push --force-with-lease ${1:-origin} $2 $3 $4 $5 $6 $7 $8 $9 `git rev-parse --abbrev-ref HEAD`' -

    ; ----------------------------------------------------------
    ; ⚠️  Destructive (破壊的操作 - 注意して使用)
    ; ----------------------------------------------------------
    fback   = !sh -c 'git reset --soft HEAD~${1:-1}' -  ; コミット取り消し(変更は保持)
    fclean  = "!f() { git reset --hard HEAD; git clean --force -d; }; f"
    faclean = "!f() { git reset --hard HEAD; git clean --force -d; git ls-files --others | xargs rm -rf; }; f"

# ============================================================
# Log
# ============================================================
[log]
    date = iso

# ============================================================
# ghq
# ============================================================
[ghq]
    root = ~/ghq

# ============================================================
# Delta (diff viewer)
# ============================================================
[interactive]
    diffFilter = delta --color-only
[delta]
    navigate = true
    side-by-side = false
    line-numbers = true
[merge]
    conflictstyle = diff3
[diff]
    colorMoved = default
